# 테스트 계획서 및 결과서 (Test Plan/Report)

## 1. 테스트 범위
- 기능: 역할별 메뉴/권한, 검사 운영, 채점/지표, LLM 파이프라인, 교사 첨삭/승인, 보고서 생성/배포, 도서 allowlist
- 보안: RBAC, 토큰 만료, 다운로드 접근 통제, 감사로그
- 품질: LLM 출력 스키마 준수, allowlist 준수, fallback 동작
- 성능: 동시 응시/대량 보고서 생성

## 2. 테스트 환경
- 스테이징: DB/스토리지/큐/LLM 키 분리
- 테스트 데이터: 문항 샘플, 학생 100/1000명 규모 시나리오

## 3. 테스트 케이스(대표)
### 권한/메뉴
- TC-01 Admin만 문항/도서 등록 가능
- TC-02 SchoolManager는 학생 ID 관리/학교 보고서 출력 가능, 타 학교 접근 불가
- TC-03 Teacher는 배부/기록/피드백 가능, 학생 계정 대량관리 불가

### LLM/가드레일
- TC-10 스키마 위반 출력 → 저장 거부 + 재시도 + fallback
- TC-11 도서 allowlist 밖 추천 → enforcer가 차단/대체

### 교사 첨삭/승인/보고서
- TC-20 교사 수정 저장 및 diff 기록
- TC-21 승인 후 잠금(편집 불가), 승인 해제 권한 확인
- TC-22 최종 보고서에 교사 승인본 우선 반영, AI는 참고/대체 정책대로 포함

### 배포/다운로드
- TC-30 보고서 뷰어 접근 권한 확인
- TC-31 signed URL 만료 후 다운로드 실패, 재발급 성공
- TC-32 학부모 링크 만료/회수 동작

## 4. 결과서 템플릿
- 실행일/버전(템플릿/프롬프트/모델)
- 케이스별 결과(PASS/FAIL), 증빙(로그/스크린샷)
- 결함 목록(Severity, 재현 단계, 수정 커밋)
