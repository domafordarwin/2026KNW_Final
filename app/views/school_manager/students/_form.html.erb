<%= form_with model: [:school_manager, @student], local: true do |f| %>
  <% if @student.errors.any? %>
    <div class="alert alert-error">
      <% @student.errors.full_messages.each do |msg| %>
        <p><%= msg %></p>
      <% end %>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :name, "이름" %>
    <%= f.text_field :name, required: true %>
  </div>

  <div class="form-group">
    <%= f.label :email_optional, "이메일" %>
    <%= f.email_field :email_optional %>
  </div>

  <div class="form-group">
    <%= f.label :status, "상태" %>
    <%= f.select :status, [["활성", "active"], ["비활성", "inactive"]] %>
  </div>

  <div class="form-group">
    <%= f.label :password, "비밀번호" %>
    <%= f.password_field :password %>
    <% if @student.persisted? %>
      <small style="color: #666;">현재 비밀번호를 유지하려면 비워두세요</small>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation, "비밀번호 확인" %>
    <%= f.password_field :password_confirmation %>
  </div>

  <div class="actions">
    <%= f.submit (@student.persisted? ? "수정" : "생성"), class: "btn btn-primary" %>
    <%= link_to "취소", school_manager_students_path, class: "btn btn-secondary" %>
  </div>
<% end %>
